"use strict";(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[940],{6940:(K,b,d)=>{d.r(b),d.d(b,{AdminLayoutModule:()=>$});var v=d(529),p=d(646),l=d(6895),n=d(433),t=d(8256);let f=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez]]}),i})();var m=d(2057),h=d(7758),g=d(7185);function Z(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",24)(2,"div",25)(3,"span",26),t._uU(4),t.qZA()()(),t.TgZ(5,"th",24)(6,"div",3)(7,"div",9)(8,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(),u=t.MAs(34);return t.KtG(c.modalEditar(u,s))}),t._UZ(9,"i",28),t.qZA()(),t.TgZ(10,"div",9)(11,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(),u=t.MAs(36);return t.KtG(c.modalEliminar(u,s))}),t._UZ(12,"i",30),t.qZA()()()()()}if(2&i){const e=a.$implicit;t.xp6(4),t.Oqu(e.nombre)}}function x(i,a){1&i&&(t.TgZ(0,"div",47),t._uU(1," * "),t.qZA())}const T=function(i){return{"is-invalid":i}};function q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.dismiss("Cross click"))}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",35)(7,"form",36)(8,"div",37)(9,"label",38),t._uU(10,"Nombre Categoria"),t.qZA(),t.TgZ(11,"div",39)(12,"div",40),t._UZ(13,"input",41),t.qZA(),t.TgZ(14,"div",42),t.YNc(15,x,2,0,"div",43),t.qZA()()()()(),t.TgZ(16,"div",44)(17,"button",45),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.close("Save click"))}),t._uU(18,"Cancelar"),t.qZA(),t.TgZ(19,"button",46),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editarCrear())}),t._uU(20),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.tituloModal),t.xp6(5),t.Q6J("formGroup",e.categoriaForm),t.xp6(6),t.Q6J("ngClass",t.VKq(5,T,e.submitted&&e.categoriaForm.nombre.errors)),t.xp6(2),t.Q6J("ngIf",e.categoriaForm.controls.nombre.touched&&(null==e.categoriaForm.controls.nombre.errors?null:e.categoriaForm.controls.nombre.errors.required)),t.xp6(5),t.Oqu(e.accion)}}function U(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.dismiss("Cross click"))}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",35)(7,"button",45),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.close("Save click"))}),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",46),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.eliminarCatalogo())}),t._uU(10),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.tituloModal),t.xp6(8),t.Oqu(e.accion)}}function A(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",24)(2,"div",25)(3,"span",26),t._uU(4),t.qZA()()(),t.TgZ(5,"th",24)(6,"div",25)(7,"span",26),t._uU(8),t.qZA()()(),t.TgZ(9,"th",24)(10,"div",25)(11,"span",26),t._uU(12),t.qZA()()(),t.TgZ(13,"th",24)(14,"div",25)(15,"span",26),t._uU(16),t.qZA()()(),t.TgZ(17,"th",24)(18,"div",25)(19,"span",26),t._uU(20),t.qZA()()(),t.TgZ(21,"th",24)(22,"div",3)(23,"div",9)(24,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(),u=t.MAs(42);return t.KtG(c.modalEditar(u,s))}),t._UZ(25,"i",28),t.qZA()(),t.TgZ(26,"div",9)(27,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(),u=t.MAs(44);return t.KtG(c.modalEliminar(u,s))}),t._UZ(28,"i",30),t.qZA()()()()()}if(2&i){const e=a.$implicit;t.xp6(4),t.Oqu(e.nombre),t.xp6(4),t.Oqu(e.correo),t.xp6(4),t.Oqu(e.google?"Activo":"No Activo"),t.xp6(4),t.Oqu(e.rol),t.xp6(4),t.Oqu(e.estado?"Activo":"No Activo")}}function y(i,a){1&i&&(t.TgZ(0,"div",49),t._uU(1," * "),t.qZA())}function S(i,a){1&i&&(t.TgZ(0,"div",49),t._uU(1," * "),t.qZA())}function w(i,a){1&i&&(t.TgZ(0,"div",49),t._uU(1," * "),t.qZA())}const _=function(i){return{"is-invalid":i}};function F(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.dismiss("Cross click"))}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",35)(7,"form",36)(8,"div",37)(9,"label",38),t._uU(10,"Nombre"),t.qZA(),t.TgZ(11,"div",39)(12,"div",40),t._UZ(13,"input",41),t.qZA(),t.TgZ(14,"div",42),t.YNc(15,y,2,0,"div",43),t.qZA()()(),t.TgZ(16,"div",37)(17,"label",38),t._uU(18,"Correo"),t.qZA(),t.TgZ(19,"div",39)(20,"div",40),t._UZ(21,"input",44),t.qZA(),t.TgZ(22,"div",42),t.YNc(23,S,2,0,"div",43),t.qZA()()(),t.TgZ(24,"div",37)(25,"label",38),t._uU(26,"password"),t.qZA(),t.TgZ(27,"div",39)(28,"div",40),t._UZ(29,"input",45),t.qZA(),t.TgZ(30,"div",42),t.YNc(31,w,2,0,"div",43),t.qZA()()()()(),t.TgZ(32,"div",46)(33,"button",47),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.close("Save click"))}),t._uU(34,"Cancelar"),t.qZA(),t.TgZ(35,"button",48),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editarCrear())}),t._uU(36),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.tituloModal),t.xp6(5),t.Q6J("formGroup",e.UsuarioForm),t.xp6(6),t.Q6J("ngClass",t.VKq(9,_,e.submitted&&e.UsuarioForm.nombre.errors)),t.xp6(2),t.Q6J("ngIf",e.UsuarioForm.controls.nombre.touched&&(null==e.UsuarioForm.controls.nombre.errors?null:e.UsuarioForm.controls.nombre.errors.required)),t.xp6(6),t.Q6J("ngClass",t.VKq(11,_,e.submitted&&e.UsuarioForm.correo.errors)),t.xp6(2),t.Q6J("ngIf",e.UsuarioForm.controls.correo.touched&&(null==e.UsuarioForm.controls.correo.errors?null:e.UsuarioForm.controls.correo.errors.required)),t.xp6(6),t.Q6J("ngClass",t.VKq(13,_,e.submitted&&e.UsuarioForm.password.errors)),t.xp6(2),t.Q6J("ngIf",e.UsuarioForm.controls.password.touched&&(null==e.UsuarioForm.controls.password.errors?null:e.UsuarioForm.controls.password.errors.required)),t.xp6(5),t.Oqu(e.accion)}}function E(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.dismiss("Cross click"))}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",35)(7,"button",47),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.close("Save click"))}),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",48),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.eliminarCatalogo())}),t._uU(10),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.tituloModal),t.xp6(8),t.Oqu(e.accion)}}function M(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",24)(2,"div",25)(3,"span",26),t._uU(4),t.qZA()()(),t.TgZ(5,"th",24)(6,"div",25)(7,"span",26),t._uU(8),t.qZA()()(),t.TgZ(9,"th",24)(10,"div",25)(11,"span",26),t._uU(12),t.qZA()()(),t.TgZ(13,"th",24)(14,"div",3)(15,"div",9)(16,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(),u=t.MAs(38);return t.KtG(c.modalEditar(u,s))}),t._UZ(17,"i",28),t.qZA()(),t.TgZ(18,"div",9)(19,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(),u=t.MAs(40);return t.KtG(c.modalEliminar(u,s))}),t._UZ(20,"i",30),t.qZA()()()()()}if(2&i){const e=a.$implicit;t.xp6(4),t.Oqu(e.nombre),t.xp6(4),t.Oqu(e.precio),t.xp6(4),t.Oqu(e.categoria.nombre)}}function D(i,a){1&i&&(t.TgZ(0,"div",50),t._uU(1," * "),t.qZA())}function O(i,a){if(1&i&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e._id),t.xp6(1),t.Oqu(e.nombre)}}function R(i,a){1&i&&(t.TgZ(0,"div",50),t._uU(1," * "),t.qZA())}const C=function(i){return{"is-invalid":i}};function N(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.dismiss("Cross click"))}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",35)(7,"form",36)(8,"div",37)(9,"label",38),t._uU(10,"Nombre"),t.qZA(),t.TgZ(11,"div",39)(12,"div",40),t._UZ(13,"input",41),t.qZA(),t.TgZ(14,"div",42),t.YNc(15,D,2,0,"div",43),t.qZA()()(),t.TgZ(16,"div",37)(17,"label",38),t._uU(18,"Categoria"),t.qZA(),t.TgZ(19,"div",39)(20,"div",40)(21,"select",44)(22,"option",45),t._uU(23,"Seleccionar"),t.qZA(),t.YNc(24,O,2,2,"option",46),t.qZA()(),t.TgZ(25,"div",42),t.YNc(26,R,2,0,"div",43),t.qZA()()()()(),t.TgZ(27,"div",47)(28,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.close("Save click"))}),t._uU(29,"Cancelar"),t.qZA(),t.TgZ(30,"button",49),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editarCrear())}),t._uU(31),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.tituloModal),t.xp6(5),t.Q6J("formGroup",e.ProductosForm),t.xp6(6),t.Q6J("ngClass",t.VKq(8,C,e.submitted&&e.ProductosForm.nombre.errors)),t.xp6(2),t.Q6J("ngIf",e.ProductosForm.controls.nombre.touched&&(null==e.ProductosForm.controls.nombre.errors?null:e.ProductosForm.controls.nombre.errors.required)),t.xp6(6),t.Q6J("ngClass",t.VKq(10,C,e.submitted&&e.ProductosForm.categoria.errors)),t.xp6(3),t.Q6J("ngForOf",e.data_categoria),t.xp6(2),t.Q6J("ngIf",e.ProductosForm.controls.categoria.touched&&(null==e.ProductosForm.controls.categoria.errors?null:e.ProductosForm.controls.categoria.errors.required)),t.xp6(5),t.Oqu(e.accion)}}function J(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.dismiss("Cross click"))}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",35)(7,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.close("Save click"))}),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",49),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.eliminarCatalogo())}),t._uU(10),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.tituloModal),t.xp6(8),t.Oqu(e.accion)}}const P=[{path:"categorias",component:(()=>{class i{constructor(e,o,r,s,c){this.authService=e,this.modalService=o,this.fb=r,this.toster=s,this.router=c,this.dataCategotias=[],this.dataCategotias_init=[],this.submitted=!1,this.idCatalogo=null,this.tituloModal="",this.accion="",this.filter=new n.NI("",{nonNullable:!0}),this.closeResult="",this.categoriaForm=this.fb.group({nombre:["",[n.kI.required]]})}ngOnInit(){this.categorias()}updateFilter(e){const o=e.target.value.toLowerCase();console.log(this.dataCategotias_init);const r=this.dataCategotias_init.filter(function(s){return null!==s.nombre&&""!==s.nombre&&(-1!==s.nombre.toLowerCase().indexOf(o)||!o)});this.dataCategotias=r}categorias(){this.authService.lcategorias().subscribe(e=>{this.dataCategotias_init=e.categorias,this.dataCategotias=this.dataCategotias_init,console.log(this.dataCategotias)})}modalCrear(e){this.tituloModal="Crear Catalogo",this.accion="Crear",this.idCatalogo=null,this.categoriaForm=this.fb.group({nombre:["",[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}modalEditar(e,o){this.tituloModal="Editar Catalogo",this.accion="Editar",this.idCatalogo=o._id,console.log(this.idCatalogo),this.categoriaForm=this.fb.group({nombre:[o.nombre,[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){return e===m.If.ESC?"by pressing ESC":e===m.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}editarCrear(){this.categoriaForm.valid?null!=this.idCatalogo?this.authService.uCategoria({nombre:this.categoriaForm.value.nombre},this.idCatalogo).subscribe(o=>{this.toster.success("los datos fueron editados",""),this.categorias(),this.modal.close()},o=>{if(console.log(o),401==o.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Campos incompletos.")}):this.authService.cCategoria({nombre:this.categoriaForm.value.nombre}).subscribe(o=>{this.toster.success("los datos fueron guardados",""),this.categorias(),this.modal.close()},o=>{if(console.log(o),401==o.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Campos incompletos.")}):this.toster.warning("Campos incompletos.")}modalEliminar(e,o){this.tituloModal="Desea Eliminar el Catalogo "+o.nombre,this.accion="Eliminar",this.idCatalogo=o._id,console.log(this.idCatalogo),this.categoriaForm=this.fb.group({nombre:[o.nombre,[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}eliminarCatalogo(){this.authService.eCategoria(this.idCatalogo).subscribe(e=>{this.toster.success("Se elimino el catalogo de forma correcta",""),this.categorias(),this.modal.close()},e=>{if(console.log(e),401==e.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Error al Consumir servicio.")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.S),t.Y36(m.FF),t.Y36(n.qu),t.Y36(g._W),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-categorias"]],decls:37,vars:1,consts:[[1,"header","bg-gradient-danger","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-3","col-lg-6"],[1,"container-fluid","mt--7"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"col-6"],[1,"table","align-items-center","table-flush"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","placeholder","buscar nombre categoria","type","text",1,"form-control",3,"keyup"],[1,"col-4"],[1,"col-2"],["title","Crear",1,"btn","btn-success",3,"click"],[1,"ni","ni-fat-add"],[1,"table-responsive"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["content",""],["eliminar",""],["scope","row"],[1,"media-body"],[1,"mb-0","text-sm"],["title","Editar",1,"btn","btn-primary",3,"click"],[1,"ni","ni-single-copy-04"],["title","Eliminar",1,"btn","btn-danger",3,"click"],[1,"ni","ni-fat-remove"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","dateOfBirth"],[1,"input-group"],[1,"col-11"],["formControlName","nombre","type","text",1,"form-control",3,"ngClass"],[1,"col-1"],["class","text text-danger mt-1",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text","text-danger","mt-1"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"div",4)(5,"div",4)(6,"div",4)(7,"div",4),t.qZA()()()(),t.TgZ(8,"div",5)(9,"div",3)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",3)(14,"div",9)(15,"form",10)(16,"div",11)(17,"div",12)(18,"input",13),t.NdJ("keyup",function(c){return o.updateFilter(c)}),t.qZA()()()()(),t._UZ(19,"div",14),t.TgZ(20,"div",15)(21,"button",16),t.NdJ("click",function(){t.CHM(r);const c=t.MAs(34);return t.KtG(o.modalCrear(c))}),t._UZ(22,"i",17),t.qZA()()()(),t.TgZ(23,"div",18)(24,"table",10)(25,"thead",19)(26,"tr")(27,"th",20),t._uU(28,"nombre"),t.qZA(),t.TgZ(29,"th",20),t._uU(30,"Acciones"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,Z,13,1,"tr",21),t.qZA()()()()()()(),t.YNc(33,q,21,7,"ng-template",null,22,t.W1O),t.YNc(35,U,11,2,"ng-template",null,23,t.W1O)}2&e&&(t.xp6(32),t.Q6J("ngForOf",o.dataCategotias))},dependencies:[l.mk,l.sg,l.O5,n._Y,n.Fj,n.JJ,n.JL,n.F,n.sg,n.u]}),i})()},{path:"usuarios",component:(()=>{class i{constructor(e,o,r,s,c){this.authService=e,this.modalService=o,this.fb=r,this.toster=s,this.router=c,this.data=[],this.data_init=[],this.submitted=!1,this.id=null,this.tituloModal="",this.accion="",this.filter=new n.NI("",{nonNullable:!0}),this.closeResult="",this.usuarios(),this.UsuarioForm=this.fb.group({nombre:["",[n.kI.required]],correo:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required]],rol:["ADMIN_ROLE",[n.kI.required]]})}ngOnInit(){}usuarios(){this.authService.lusuario().subscribe(e=>{console.log(e),this.data_init=e.usuarios,this.data=this.data_init})}updateFilter(e){const o=e.target.value.toLowerCase();console.log(this.data_init);const r=this.data_init.filter(function(s){return null===s.nombre||""===s.nombre?null!==s.correo&&""!==s.correo&&(-1!==s.nombre.toLowerCase().indexOf(o)||!o):-1!==s.correo.toLowerCase().indexOf(o)||!o});this.data=r}modalEditar(e,o){console.log(o),this.tituloModal="Editar Usuario",this.accion="Editar",this.id=o.uid,this.UsuarioForm=this.fb.group({nombre:[o.nombre,[n.kI.required]],correo:[o.correo,[n.kI.required,n.kI.email]],password:["",[n.kI.required]],rol:["ADMIN_ROLE",[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){return e===m.If.ESC?"by pressing ESC":e===m.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}editarCrear(){this.UsuarioForm.valid?null!=this.id?this.authService.uUsuario({nombre:this.UsuarioForm.value.nombre,correo:this.UsuarioForm.value.correo,password:this.UsuarioForm.value.password,rol:this.UsuarioForm.value.rol},this.id).subscribe(o=>{this.toster.success("los datos fueron editados",""),this.modal.close(),this.usuarios()},o=>{if(console.log(o),401==o.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Campos incompletos.")}):this.authService.cUsuario({nombre:this.UsuarioForm.value.nombre,correo:this.UsuarioForm.value.correo,password:this.UsuarioForm.value.password,rol:this.UsuarioForm.value.rol}).subscribe(o=>{this.toster.success("los datos fueron guardados",""),this.usuarios(),this.modal.close()},o=>{if(console.log(o),401==o.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Campos incompletos.")}):this.toster.warning("Campos incompletos.")}modalEliminar(e,o){this.tituloModal="Desea Eliminar el usuario "+o.nombre,this.accion="Eliminar",this.id=o.uid,this.categoriaForm=this.fb.group({nombre:[o.nombre,[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}eliminarCatalogo(){this.authService.eUsuario(this.id).subscribe(e=>{this.toster.success("Se elimino el usuario de forma correcta",""),this.modal.close(),this.usuarios()},e=>{if(console.log(e),401==e.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Error al Consumir servicio.")})}modalCrear(e){this.tituloModal="Crear Usuario",this.accion="Crear",this.id=null,this.UsuarioForm=this.fb.group({nombre:["",[n.kI.required]],correo:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required]],rol:["ADMIN_ROLE",[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.S),t.Y36(m.FF),t.Y36(n.qu),t.Y36(g._W),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-usuarios"]],decls:45,vars:1,consts:[[1,"header","bg-gradient-danger","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-3","col-lg-6"],[1,"container-fluid","mt--7"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"col-6"],[1,"table","align-items-center","table-flush"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","placeholder","buscar nombre o correo","type","text",1,"form-control",3,"keyup"],[1,"col-4"],[1,"col-2"],["title","Crear",1,"btn","btn-success",3,"click"],[1,"ni","ni-fat-add"],[1,"table-responsive"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["content",""],["eliminar",""],["scope","row"],[1,"media-body"],[1,"mb-0","text-sm"],["title","Editar",1,"btn","btn-primary",3,"click"],[1,"ni","ni-single-copy-04"],["title","Eliminar",1,"btn","btn-danger",3,"click"],[1,"ni","ni-fat-remove"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","dateOfBirth"],[1,"input-group"],[1,"col-11"],["formControlName","nombre","type","text",1,"form-control",3,"ngClass"],[1,"col-1"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","correo","type","email",1,"form-control",3,"ngClass"],["formControlName","password","type","password",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text","text-danger","mt-1"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"div",4)(5,"div",4)(6,"div",4)(7,"div",4),t.qZA()()()(),t.TgZ(8,"div",5)(9,"div",3)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",3)(14,"div",9)(15,"form",10)(16,"div",11)(17,"div",12)(18,"input",13),t.NdJ("keyup",function(c){return o.updateFilter(c)}),t.qZA()()()()(),t._UZ(19,"div",14),t.TgZ(20,"div",15)(21,"button",16),t.NdJ("click",function(){t.CHM(r);const c=t.MAs(42);return t.KtG(o.modalCrear(c))}),t._UZ(22,"i",17),t.qZA()()()(),t.TgZ(23,"div",18)(24,"table",10)(25,"thead",19)(26,"tr")(27,"th",20),t._uU(28,"Nombre"),t.qZA(),t.TgZ(29,"th",20),t._uU(30,"Correo"),t.qZA(),t.TgZ(31,"th",20),t._uU(32,"Google"),t.qZA(),t.TgZ(33,"th",20),t._uU(34,"Rol"),t.qZA(),t.TgZ(35,"th",20),t._uU(36,"Estado"),t.qZA(),t.TgZ(37,"th",20),t._uU(38,"Acciones"),t.qZA()()(),t.TgZ(39,"tbody"),t.YNc(40,A,29,5,"tr",21),t.qZA()()()()()()(),t.YNc(41,F,37,15,"ng-template",null,22,t.W1O),t.YNc(43,E,11,2,"ng-template",null,23,t.W1O)}2&e&&(t.xp6(40),t.Q6J("ngForOf",o.data))},dependencies:[l.mk,l.sg,l.O5,n._Y,n.Fj,n.JJ,n.JL,n.F,n.sg,n.u]}),i})()},{path:"productos",component:(()=>{class i{constructor(e,o,r,s,c){this.authService=e,this.modalService=o,this.fb=r,this.toster=s,this.router=c,this.data=[],this.data_init=[],this.data_categoria=[],this.submitted=!1,this.id=null,this.tituloModal="",this.accion="",this.filter=new n.NI("",{nonNullable:!0}),this.closeResult="",this.productos(),this.categoria(),this.ProductosForm=this.fb.group({nombre:["",[n.kI.required]],categoria:["",[n.kI.required]]})}ngOnInit(){}categoria(){this.authService.lcategorias().subscribe(e=>{this.data_categoria=e.categorias,console.log(this.data_categoria)})}productos(){this.authService.lProductos().subscribe(e=>{this.data_init=e.productos,this.data=this.data_init,console.log(e.productos)})}updateFilter(e){const o=e.target.value.toLowerCase();console.log(this.data_init);const r=this.data_init.filter(function(s){return null!==s.nombre&&""!==s.nombre&&(-1!==s.nombre.toLowerCase().indexOf(o)||!o)});this.data=r}modalEditar(e,o){console.log(o),this.tituloModal="Editar Productos",this.accion="Editar",this.id=o._id,this.ProductosForm=this.fb.group({nombre:[o.nombre,[n.kI.required]],categoria:[o.categoria._id,[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){return e===m.If.ESC?"by pressing ESC":e===m.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}editarCrear(){this.ProductosForm.valid?null!=this.id?this.authService.uProducto({nombre:this.ProductosForm.value.nombre,categoria:this.ProductosForm.value.categoria},this.id).subscribe(o=>{this.toster.success("los datos fueron editados",""),this.modal.close(),this.productos()},o=>{if(console.log(o),401==o.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Campos incompletos.")}):this.authService.cProducto({nombre:this.ProductosForm.value.nombre,categoria:this.ProductosForm.value.categoria}).subscribe(o=>{this.toster.success("los datos fueron guardados",""),this.productos(),this.modal.close()},o=>{if(console.log(o),401==o.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Campos incompletos.")}):this.toster.warning("Campos incompletos.")}modalEliminar(e,o){this.tituloModal="Desea Eliminar el Producto "+o.nombre,this.accion="Eliminar",this.id=o._id,this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}eliminarCatalogo(){this.authService.eProducto(this.id).subscribe(e=>{this.toster.success("Se elimino el producto de forma correcta",""),this.modal.close(),this.productos()},e=>{if(console.log(e),401==e.status)return localStorage.setItem("token",null),this.router.navigateByUrl("login"),this.toster.warning("Secci\xf3n caducada"),void this.modal.close();this.toster.warning("Error al Consumir servicio.")})}modalCrear(e){this.tituloModal="Crear Producto",this.accion="Crear",this.id=null,this.ProductosForm=this.fb.group({nombre:["",[n.kI.required]],categoria:["",[n.kI.required]]}),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.S),t.Y36(m.FF),t.Y36(n.qu),t.Y36(g._W),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-productos"]],decls:41,vars:1,consts:[[1,"header","bg-gradient-danger","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-3","col-lg-6"],[1,"container-fluid","mt--7"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"col-6"],[1,"table","align-items-center","table-flush"],[1,"mb-3","row"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","placeholder","buscar Producto","type","text",1,"form-control",3,"keyup"],[1,"col-4"],[1,"col-2"],["title","Crear",1,"btn","btn-success",3,"click"],[1,"ni","ni-fat-add"],[1,"table-responsive"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["content",""],["eliminar",""],["scope","row"],[1,"media-body"],[1,"mb-0","text-sm"],["title","Editar",1,"btn","btn-primary",3,"click"],[1,"ni","ni-single-copy-04"],["title","Eliminar",1,"btn","btn-danger",3,"click"],[1,"ni","ni-fat-remove"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","dateOfBirth"],[1,"input-group"],[1,"col-11"],["formControlName","nombre","type","text",1,"form-control",3,"ngClass"],[1,"col-1"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","categoria",1,"form-control",3,"ngClass"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text","text-danger","mt-1"],[3,"value"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"div",4)(5,"div",4)(6,"div",4)(7,"div",4),t.qZA()()()(),t.TgZ(8,"div",5)(9,"div",3)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",3)(14,"div",9)(15,"form",10)(16,"div",11)(17,"div",12)(18,"input",13),t.NdJ("keyup",function(c){return o.updateFilter(c)}),t.qZA()()()()(),t._UZ(19,"div",14),t.TgZ(20,"div",15)(21,"button",16),t.NdJ("click",function(){t.CHM(r);const c=t.MAs(38);return t.KtG(o.modalCrear(c))}),t._UZ(22,"i",17),t.qZA()()()(),t.TgZ(23,"div",18)(24,"table",10)(25,"thead",19)(26,"tr")(27,"th",20),t._uU(28,"Nombre"),t.qZA(),t.TgZ(29,"th",20),t._uU(30,"Precio"),t.qZA(),t.TgZ(31,"th",20),t._uU(32,"Categoria"),t.qZA(),t.TgZ(33,"th",20),t._uU(34,"Acciones"),t.qZA()()(),t.TgZ(35,"tbody"),t.YNc(36,M,21,3,"tr",21),t.qZA()()()()()()(),t.YNc(37,N,32,12,"ng-template",null,22,t.W1O),t.YNc(39,J,11,2,"ng-template",null,23,t.W1O)}2&e&&(t.xp6(36),t.Q6J("ngForOf",o.data))},dependencies:[l.mk,l.sg,l.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.F,n.sg,n.u]}),i})()}];let $=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,p.Bz.forChild(P),n.u5,v.JF,m.IJ,f]}),i})()}}]);